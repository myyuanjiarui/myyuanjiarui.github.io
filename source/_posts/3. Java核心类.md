---
title: Java核心类
date: 2024-06-25 18:08 
tags:
---
<head>
  <meta name="referrer" content="no-referrer" />
</head>


## 字符串和StringBuilder
- Java字符串特点：**不可变**
- 字符串间比较：
   - 比较内容是否相等，必须使用`equals()`方法。如果要忽略大小写，使用`equalsIgnoreCase()`方法
- 搜索字符串
```java
"Hello".indexOf("l"); // 2
"Hello".lastIndexOf("l"); // 3
"Hello".startsWith("He"); // true
"Hello".endsWith("lo"); // true
```

- 提取字符串
```java
"Hello".substring(2); // "llo"
"Hello".substring(2, 4); // "ll"
```

- 去除首尾空白字符
```java
"\tHello\n\r".trim(); // "Hello"
" Hello ".stripLeading(); // "Hello "
" Hello ".stripTrailing(); // " Hello"
"".isEmpty(); // true,因为字符串长度为0
"  ".isEmpty(); // false,因为字符串长度不为0
" \n\r\t".isBlank(); //true,因为只包含空白字符
" Hello ".isBlank(); //false,因为包含非空白字符
```

- 替换子串
```java
"Hello".replace("l", "w"); // Hewwo
```

- 分割字符串
```java
"A,B,C,D".split("\\,"); // {"A", "B", "C", "D"}
```

- 拼接字符串
```java
String[] arr = {"A","B","C"};
String s = String.join("***", arr); // "A***B***C"
```

- 格式化字符串

提供了`formateed()`方法和`format()`方法。
```java
String s = "Hi %s, your score is %d!";
System.out.println(s.formatted("Alice", 80));

System.out.println(String.format("Hi %s, your score is %d!", "Alice", 40));
```
字符串中有几个占位符就要传入几个参数。参数类型要与占位符一致，常用的占位符有：
%s：显示字符串
%d：显示整数
%x：显示十六进制整数
%f：显示浮点数，%.2f表示显示两位小数

- 字符串和其他类型的转换
   - 其他类型转换为字符串，使用方法`valueOf()`
```java
String.valueOf(123); // "123"
String.valueOf(45.67); // "45.67"
String.valueOf(true); // "true"
String.valueOf(new Object()); // 形如java.lang.Object@636be97c
```

   - 字符串转换为其他类型
```java
int n1 = Integer.parseInt("123"); // 123
int n2 = Integer.parseInt("ff", 16); // 按十六进制转换，255
boolean b1 = Boolean.parseBoolean("true"); // true
boolean b2 = Boolean.parseBoolean("FALSE"); // false
```

- 字符串拼接：String字符串可以与任意类型使用'+'拼接成新的字符串。
- StringBuilder：用于高效拼接字符串，原理是新增字符时放入缓冲区，而不是新增对象。
```java
StringBuilder sb = new StringBuilder(1024);
for(int i=0; i<10; i++){
    sb.append(", ")
        .append(i);
}
System.out.println(sb.toString()); // , 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
```
## 包装类型

- 定义

Java为每种基本类型都提供了对应的包装类型。这样的好处在于，在需要对象而非基本数据类型的上下文中（如在使用集合框架时），包装类使得基本数据类型可以被用作对象处理，这使得语言的使用更加灵活。

| 基本类型 | 对应的引用类型 |
| --- | --- |
| boolean | java.lang.Boolean |
| byte | java.lang.Byte |
| short | java.lang.Short |
| int | java.lang.Integer |
| long | java.lang.Long |
| float | java.lang.Float |
| double | java.lang.Double |
| char | java.lang.Character |

包装类型都是不变类，即加上`final`关键字，让包装类不能继承。
两个包装类的对象的比较要注意不能用`==`比较，因为对象是引用值，必须使用`equals()`比较。

- 装箱和拆箱

将基本类型转换为包装类的过程，称为自动装箱（Auto Boxing）将包装类型转换为基本类型的过程，称为自动拆箱（Auto UnBoxing）。
```java
Integer n = 100; // 自动装箱
int x = n; // 自动拆箱
```
每个包装类都有与其对应的基本类型的转换方法。包装类到基本类型有`xxxValue()`，基本类型到包装类有`valueOf()`。
```java
Integer i = Integer.valueOf(10);
int x = i.intValue();
```

